(this.webpackJsonpraindrop=this.webpackJsonpraindrop||[]).push([[0],{20:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),i=n(21),s=n.n(i),l=(n(29),n(3)),o=(n(30),n(31),n(5)),d=(n(32),n(33),n(23));var u=function(e){var t=e.handleLocation,n=e.status,a=e.lat,r=e.lon,i=e.name;return Object(c.jsxs)("div",{className:"location",children:[Object(c.jsx)("div",{className:"location-button",children:Object(c.jsx)(d.a,{onClick:t})}),Object(c.jsxs)("div",{className:"location-info",children:[n&&Object(c.jsx)("p",{children:n}),a&&Object(c.jsx)("span",{children:a}),r&&Object(c.jsxs)("span",{children:[", ",r]}),i&&Object(c.jsx)("p",{children:i})]})]})};var j=function(e){var t=e.handleLocation,n=e.status,r=e.lat,i=e.lon,s=e.name,d=Object(a.useState)(new o.DateTime.local),j=Object(l.a)(d,2),h=j[0],v=j[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return v(o.DateTime.local())}),1e3);return function(){clearInterval(e)}}),[]),Object(c.jsxs)("header",{className:"header-container",children:[Object(c.jsx)("div",{className:"location-container",children:Object(c.jsx)(u,{handleLocation:t,status:n,lat:r,lon:i,name:s})}),Object(c.jsxs)("div",{className:"datetime",children:[Object(c.jsx)("h1",{className:"datetime__time",children:h.toLocaleString(o.DateTime.TIME_SIMPLE)}),Object(c.jsx)("h1",{className:"datetime__date",children:h.toLocaleString(o.DateTime.DATE_MED_WITH_WEEKDAY)})]})]})},h=n(6),v=n.n(h),m=n(7),b="3a7c9da63552f741f703b56817b3e594",f={fetchCurrentWeather:function(e,t){return"weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(b)},fetchForecast:function(e,t){return"forecast?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(b)},fetchDailyForecast:function(e,t){return"onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=current,hourly,alerts&appid=").concat(b)}},O=n(22),x=n.n(O).a.create({baseURL:"https://api.openweathermap.org/data/2.5"}),p=n(61),w=n(62),N=n(63);n(52),n(20);var g=function(e){var t=e.weatherCode,n=e.isNight,a="";if(t){var r="";r=t,n&&[800,801,802].includes(t)&&(r="-night-"+t),a="wi wi-owm-"+r}return Object(c.jsx)("div",{children:Object(c.jsx)("i",{className:a})})};function y(e){return e?(e-273.15).toFixed(0):""}n(53),n(54);var _=function(e){var t,n=e.wind,a=(null===n||void 0===n?void 0:n.speed)?null===n||void 0===n||null===(t=n.speed)||void 0===t?void 0:t.toFixed(0):0,r=(null===n||void 0===n?void 0:n.deg)?null===n||void 0===n?void 0:n.deg:0,i="wi wi-wind from-".concat(r,"-deg");return Object(c.jsxs)("div",{className:"wind",children:[Object(c.jsx)("i",{className:i})," ",Object(c.jsxs)("span",{children:[a," \u043c/c"]})]})};var S=function(e){var t,n,r,i,s=e.lat,o=e.lon,d=Object(a.useState)({}),u=Object(l.a)(d,2),j=u[0],h=u[1];function b(e,t){return O.apply(this,arguments)}function O(){return(O=Object(m.a)(v.a.mark((function e(t,n){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get(f.fetchCurrentWeather(t,n));case 2:c=e.sent,h(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){b(s,o);var e=setInterval(b,3e5,s,o);return function(){return clearInterval(e)}}),[s,o]);var S=(null===j||void 0===j?void 0:j.name)?null===j||void 0===j?void 0:j.name:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",T=(null===j||void 0===j?void 0:j.weather)?null===j||void 0===j||null===(t=j.weather[0])||void 0===t?void 0:t.description:"",I=(null===j||void 0===j?void 0:j.weather)?null===j||void 0===j||null===(n=j.weather[0])||void 0===n?void 0:n.id:"",E=y(null===j||void 0===j||null===(r=j.main)||void 0===r?void 0:r.temp),C=(y(null===j||void 0===j||null===(i=j.main)||void 0===i?void 0:i.feels_like),null===j||void 0===j?void 0:j.wind);return Object(c.jsx)("div",{className:"weather-card owm-current-weather",children:Object(c.jsx)(p.a,{fluid:!0,children:Object(c.jsx)(w.a,{children:Object(c.jsxs)(N.a,{children:[Object(c.jsx)(w.a,{children:Object(c.jsx)(N.a,{children:Object(c.jsx)("div",{className:"station-name",children:S})})}),Object(c.jsxs)(w.a,{children:[Object(c.jsx)(N.a,{children:Object(c.jsx)("div",{className:"weather-icon",children:Object(c.jsx)(g,{weatherCode:I})})}),Object(c.jsx)(N.a,{children:Object(c.jsxs)("div",{className:"temperature__measured",children:[E," "," ",Object(c.jsx)("sup",{children:"\xb0"})]})})]}),Object(c.jsxs)(w.a,{children:[Object(c.jsx)(N.a,{children:Object(c.jsx)("div",{className:"weather-text",children:Object(c.jsx)("h6",{children:T})})}),Object(c.jsx)(N.a,{children:Object(c.jsx)(_,{wind:C})})]})]})})})})};n(55),n(56);var T=function(e){var t=e.time,n=e.temp,a=e.weatherCode;return Object(c.jsxs)("div",{className:"forecast-element",children:[Object(c.jsx)("div",{className:"forecast-element_icon",children:Object(c.jsx)(g,{weatherCode:a})}),Object(c.jsx)("div",{className:"forecast-element_time",children:o.DateTime.fromSeconds(t).toLocaleString(o.DateTime.TIME_SIMPLE)}),Object(c.jsxs)("div",{className:"forecast-element_temperature",children:[n?(n-273.15).toFixed(0):0," ",Object(c.jsx)("sup",{children:"\xb0"})]})]})};var I=function(e){var t=e.lat,n=e.lon,r=Object(a.useState)({}),i=Object(l.a)(r,2),s=i[0],o=i[1];function d(e,t){return u.apply(this,arguments)}function u(){return(u=Object(m.a)(v.a.mark((function e(t,n){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get(f.fetchForecast(t,n));case 2:c=e.sent,o(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){d(t,n);var e=setInterval(d,3e5,t,n);return function(){return clearInterval(e)}}),[t,n]),Object(c.jsxs)("div",{className:"weather-card owm-3h-forecast",children:[Object(c.jsx)("h5",{className:"header",children:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 24 \u0447"}),Object(c.jsx)("div",{className:"forecast-elements",children:function(){if(s&&s.list&&s.list.length>0)return s.list.slice(0,8).map((function(e){var t;return Object(c.jsx)(T,{time:e.dt,temp:e.main.temp,weatherCode:null===e||void 0===e||null===(t=e.weather[0])||void 0===t?void 0:t.id},e.dt)}))}()})]})};n(57),n(58);var E=function(e){var t=e.time,n=e.minTemp,a=e.maxTemp,r=e.weatherCode;return Object(c.jsxs)("div",{className:"forecast-element",children:[Object(c.jsx)("div",{className:"forecast-element_icon",children:Object(c.jsx)(g,{weatherCode:r})}),Object(c.jsx)("div",{className:"forecast-element_time",children:o.DateTime.fromSeconds(t).toLocaleString({weekday:"short"})}),Object(c.jsxs)("div",{className:"forecast-element_temperature",children:[a,Object(c.jsx)("sup",{children:"\xb0"})," / ",n,Object(c.jsx)("sup",{children:"\xb0"})]})]})};var C=function(e){var t=e.lat,n=e.lon,r=Object(a.useState)({}),i=Object(l.a)(r,2),s=i[0],o=i[1];function d(e,t){return u.apply(this,arguments)}function u(){return(u=Object(m.a)(v.a.mark((function e(t,n){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get(f.fetchDailyForecast(t,n));case 2:c=e.sent,o(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){d(t,n);var e=setInterval(d,3e5,t,n);return function(){return clearInterval(e)}}),[t,n]),Object(c.jsxs)("div",{className:"weather-card owm-daily-forecast",children:[Object(c.jsx)("h5",{className:"header",children:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 5 \u0434\u043d\u0435\u0439"}),Object(c.jsx)("div",{className:"forecast-elements",children:function(){if(s&&s.daily&&s.daily.length>0)return s.daily.slice(0,5).map((function(e){var t;return Object(c.jsx)(E,{time:e.dt,minTemp:y(e.temp.min),maxTemp:y(e.temp.max),weatherCode:null===e||void 0===e||null===(t=e.weather[0])||void 0===t?void 0:t.id},e.dt)}))}()})]})};var D=function(){var e=Object(a.useState)(59.9311),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(30.3609),s=Object(l.a)(i,2),o=s[0],d=s[1],u=Object(a.useState)(null),h=Object(l.a)(u,2),v=h[0],m=h[1];return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)("header",{children:Object(c.jsx)(j,{handleLocation:function(){navigator.geolocation?(m("Locating..."),navigator.geolocation.getCurrentPosition((function(e){m(null);var t=e.coords.latitude,n=e.coords.longitude;r(t),d(n)}),(function(){m("Unable to retrieve your location")}))):m("Geolocation is not supported by your browser")},status:v,lat:n,lon:o})}),Object(c.jsxs)("main",{children:[Object(c.jsx)(S,{lat:n,lon:o}),Object(c.jsx)(I,{lat:n,lon:o}),Object(c.jsx)(C,{lat:n,lon:o})]})]})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(D,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.e47cefb8.chunk.js.map