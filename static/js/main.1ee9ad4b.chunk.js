(this.webpackJsonpraindrop=this.webpackJsonpraindrop||[]).push([[0],{105:function(e,c,n){},106:function(e,c,n){},213:function(e,c,n){},214:function(e,c,n){"use strict";n.r(c);var o=n(1),i=n(2),t=n.n(i),a=n(70),r=n.n(a),l=(n(80),n(13)),s=n.n(l),d=n(26),b=n(12),u=(n(82),n(7));n(83);var h,j=function(){var e=Object(i.useState)(new u.DateTime.local),c=Object(b.a)(e,2),n=c[0],t=c[1];return Object(i.useEffect)((function(){var e=setInterval((function(){return t(u.DateTime.local())}),1e3);return function(){clearInterval(e)}}),[]),Object(o.jsx)("div",{className:"datetime-container",children:Object(o.jsxs)("div",{className:"datetime",children:[Object(o.jsx)("h1",{className:"datetime__time",children:n.toLocaleString(u.DateTime.TIME_SIMPLE)}),Object(o.jsx)("h1",{className:"datetime__date",children:n.toLocaleString(u.DateTime.DATE_MED_WITH_WEEKDAY)})]})})},_=(n(41),n(84),n(85),n(0)),m=(h={200:{label:"thunderstorm with light rain",icon:"storm-showers",icon_code:"\uf010"},201:{label:"thunderstorm with rain",icon:"storm-showers",icon_code:"\uf010"},202:{label:"thunderstorm with heavy rain",icon:"storm-showers",icon_code:"\uf010"},210:{label:"light thunderstorm",icon:"storm-showers",icon_code:"\uf016"},211:{label:"thunderstorm",icon:"thunderstorm",icon_code:"\uf016"},212:{label:"heavy thunderstorm",icon:"thunderstorm",icon_code:"\uf016"},221:{label:"ragged thunderstorm",icon:"thunderstorm",icon_code:"\uf016"},230:{label:"thunderstorm with light drizzle",icon:"storm-showers",icon_code:"\uf01e"},231:{label:"thunderstorm with drizzle",icon:"storm-showers",icon_code:"\uf01e"},232:{label:"thunderstorm with heavy drizzle",icon:"storm-showers",icon_code:"\uf01e"},300:{label:"light intensity drizzle",icon:"sprinkle",icon_code:"\uf01c"},301:{label:"drizzle",icon:"sprinkle",icon_code:"\uf01c"},302:{label:"heavy intensity drizzle",icon:"sprinkle",icon_code:"\uf019"},310:{label:"light intensity drizzle rain",icon:"sprinkle",icon_code:"\uf017"},311:{label:"drizzle rain",icon:"sprinkle",icon_code:"\uf019"},312:{label:"heavy intensity drizzle rain",icon:"sprinkle",icon_code:"\uf019"},313:{label:"shower rain and drizzle",icon:"sprinkle",icon_code:"\uf01a"},314:{label:"heavy shower rain and drizzle",icon:"sprinkle",icon_code:"\uf019"},321:{label:"shower drizzle",icon:"sprinkle",icon_code:"\uf01c"}},Object(_.a)(h,"321",{label:"shower drizzle",icon:"sprinkle",icon_code:"\uf01c"}),Object(_.a)(h,"500",{label:"light rain",icon:"rain",icon_code:"\uf01c"}),Object(_.a)(h,"501",{label:"moderate rain",icon:"rain",icon_code:"\uf019"}),Object(_.a)(h,"502",{label:"heavy intensity rain",icon:"rain",icon_code:"\uf019"}),Object(_.a)(h,"503",{label:"very heavy rain",icon:"rain",icon_code:"\uf019"}),Object(_.a)(h,"504",{label:"extreme rain",icon:"rain",icon_code:"\uf019"}),Object(_.a)(h,"511",{label:"freezing rain",icon:"rain-mix",icon_code:"\uf017"}),Object(_.a)(h,"520",{label:"light intensity shower rain",icon:"showers",icon_code:"\uf01a"}),Object(_.a)(h,"521",{label:"shower rain",icon:"showers",icon_code:"\uf01a"}),Object(_.a)(h,"522",{label:"heavy intensity shower rain",icon:"showers",icon_code:"\uf01a"}),Object(_.a)(h,"531",{label:"ragged shower rain",icon:"showers",icon_code:"\uf01d"}),Object(_.a)(h,"600",{label:"light snow",icon:"snow",icon_code:"\uf01b"}),Object(_.a)(h,"601",{label:"snow",icon:"snow",icon_code:"\uf01b"}),Object(_.a)(h,"602",{label:"heavy snow",icon:"snow",icon_code:"\uf0b5"}),Object(_.a)(h,"611",{label:"sleet",icon:"sleet",icon_code:"\uf017"}),Object(_.a)(h,"612",{label:"shower sleet",icon:"sleet",icon_code:"\uf017"}),Object(_.a)(h,"615",{label:"light rain and snow",icon:"rain-mix",icon_code:"\uf017"}),Object(_.a)(h,"616",{label:"rain and snow",icon:"rain-mix",icon_code:"\uf017"}),Object(_.a)(h,"620",{label:"light shower snow",icon:"rain-mix",icon_code:"\uf017"}),Object(_.a)(h,"621",{label:"shower snow",icon:"rain-mix",icon_code:"\uf01b"}),Object(_.a)(h,"622",{label:"heavy shower snow",icon:"rain-mix",icon_code:"\uf01b"}),Object(_.a)(h,"701",{label:"mist",icon:"sprinkle",icon_code:"\uf014"}),Object(_.a)(h,"711",{label:"smoke",icon:"smoke",icon_code:"\uf062"}),Object(_.a)(h,"721",{label:"haze",icon:"day-haze",icon_code:"\uf0b6"}),Object(_.a)(h,"731",{label:"sand, dust whirls",icon:"cloudy-gusts",icon_code:"\uf063"}),Object(_.a)(h,"741",{label:"fog",icon:"fog",icon_code:"\uf014"}),Object(_.a)(h,"751",{label:"sand",icon:"cloudy-gusts",icon_code:"\uf063"}),Object(_.a)(h,"761",{label:"dust",icon:"dust",icon_code:"\uf063"}),Object(_.a)(h,"762",{label:"volcanic ash",icon:"smog",icon_code:"\uf063"}),Object(_.a)(h,"771",{label:"squalls",icon:"day-windy",icon_code:"\uf011"}),Object(_.a)(h,"781",{label:"tornado",icon:"tornado",icon_code:"\uf056"}),Object(_.a)(h,"800",{label:"clear sky",icon:"day-sunny",icon_code:"\uf00d"}),Object(_.a)(h,"801",{label:"few clouds",icon:"cloudy",icon_code:"\uf011"}),Object(_.a)(h,"802",{label:"scattered clouds",icon:"cloudy",icon_code:"\uf011"}),Object(_.a)(h,"803",{label:"broken clouds",icon:"cloudy",icon_code:"\uf012"}),Object(_.a)(h,"804",{label:"overcast clouds",icon:"cloudy",icon_code:"\uf013"}),Object(_.a)(h,"900",{label:"tornado",icon:"tornado",icon_code:"\uf056"}),Object(_.a)(h,"901",{label:"tropical storm",icon:"hurricane",icon_code:"\uf01d"}),Object(_.a)(h,"902",{label:"hurricane",icon:"hurricane",icon_code:"\uf073"}),Object(_.a)(h,"903",{label:"cold",icon:"snowflake-cold",icon_code:"\uf076"}),Object(_.a)(h,"904",{label:"hot",icon:"hot",icon_code:"\uf072"}),Object(_.a)(h,"905",{label:"windy",icon:"windy",icon_code:"\uf021"}),Object(_.a)(h,"906",{label:"hail",icon:"hail",icon_code:"\uf015"}),Object(_.a)(h,"951",{label:"calm",icon:"sunny",icon_code:"\uf00d"}),Object(_.a)(h,"952",{label:"light breeze",icon:"cloudy-gusts",icon_code:"\uf063"}),Object(_.a)(h,"953",{label:"gentle breeze",icon:"cloudy-gusts",icon_code:"\uf063"}),Object(_.a)(h,"954",{label:"moderate breeze",icon:"cloudy-gusts",icon_code:"\uf063"}),Object(_.a)(h,"955",{label:"fresh breeze",icon:"cloudy-gusts",icon_code:"\uf063"}),Object(_.a)(h,"956",{label:"strong breeze",icon:"cloudy-gusts",icon_code:"\uf063"}),Object(_.a)(h,"957",{label:"high wind, near gale",icon:"cloudy-gusts",icon_code:"\uf050"}),Object(_.a)(h,"958",{label:"gale",icon:"cloudy-gusts",icon_code:"\uf063"}),Object(_.a)(h,"959",{label:"severe gale",icon:"cloudy-gusts",icon_code:"\uf063"}),Object(_.a)(h,"960",{label:"storm",icon:"thunderstorm",icon_code:"\uf016"}),Object(_.a)(h,"961",{label:"violent storm",icon:"thunderstorm",icon_code:"\uf016"}),Object(_.a)(h,"962",{label:"hurricane",icon:"cloudy-gusts",icon_code:"\uf063"}),h);var w=function(e){var c=e.weatherCode,n="wi wi-"+(c?m[c].icon:"");return Object(o.jsx)("div",{className:"WeatherIcon",children:Object(o.jsx)("i",{className:n})})};var O=function(e){var c=e.weatherCode,n=e.weatherText,i=e.temp;return Object(o.jsxs)("div",{className:"weather",children:[Object(o.jsxs)("div",{className:"weather__description",children:[Object(o.jsx)("div",{className:"weather__icon",children:Object(o.jsx)(w,{className:"weather__icon",weatherCode:c})}),Object(o.jsx)("div",{className:"weather__text",children:n})]}),Object(o.jsxs)("div",{className:"weather__temperature",children:[i?(i-273.15).toFixed(0):0," \xb0\u0421"]})]})};n(86),n(87);var v=function(e){var c=e.dir,n=e.speed;return Object(o.jsxs)("div",{className:"wind",children:[Object(o.jsx)("div",{className:"wind__icon",children:Object(o.jsx)("i",{className:"wi wi-wind from-".concat(c,"-deg")})}),Object(o.jsxs)("div",{className:"wind__speed",children:[n," \u043c/\u0441"]})]})},p=n(71),f=n.n(p).a.create({baseURL:"https://api.openweathermap.org/data/2.5"}),y="3a7c9da63552f741f703b56817b3e594",g="Saint Petersburg, ru",x={fetchCurrentWeather:"weather?q=".concat(g,"&appid=").concat(y),fetchForecast:"forecast?q=".concat(g,"&appid=").concat(y)},z=(n(105),n(106),n(72)),k=n.p+"static/media/wi-cloud.f7ed7c0e.svg";n(15),n(212);var N=function(e){var c=e.forecast,n=[],i=[];if(new Image(64,64).src=k,c&&c.list&&c.list.length>0){var t=c.list.slice(0,7);n=t.map((function(e){return{x:new Date(1e3*e.dt),y:(e.main.temp-273.15).toFixed(1)}})),t.map((function(e){return{x:new Date(1e3*e.dt),y:100*Math.random()}})),i=t.map((function(e){var c;return{x:new Date(1e3*e.dt),y:0,iconCode:null===(c=e.weather[0])||void 0===c?void 0:c.id}})),t.map((function(e){return(e.main.temp-273.15).toFixed(1)}))}var a={datasets:[{yAxisID:"weather",data:i,type:"scatter",backgroundColor:"white",pointRadius:0,datalabels:{display:!0,color:"white",font:{family:"WeatherIcons",size:30},formatter:function(e,c){return e.iconCode?m[e.iconCode].icon_code:""}}},{yAxisID:"temp",data:n,borderColor:"white"}]};return Object(o.jsx)("div",{className:"forecast-chart",children:Object(o.jsx)(z.a,{data:a,options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{id:"temp",gridLines:{display:!1},ticks:{fontColor:"white",stepSize:2}},{id:"weather",display:!1}],xAxes:[{type:"time",time:{unit:"hour",tooltipFormat:"lll"},gridLines:{display:!1},ticks:{fontColor:"white"}}]},plugins:{datalabels:{display:!1}}}})})};n(213);var I=function(){var e=Object(i.useState)({}),c=Object(b.a)(e,2),n=c[0],t=c[1];return Object(i.useEffect)((function(){function e(){return c.apply(this,arguments)}function c(){return(c=Object(d.a)(s.a.mark((function e(){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get(x.fetchForecast);case 2:c=e.sent,t(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e();var n=setInterval(e,3e5);return function(){return clearInterval(n)}}),[]),Object(o.jsx)(N,{forecast:n})};var C=function(){var e,c,n,t,a,r=Object(i.useState)({}),l=Object(b.a)(r,2),u=l[0],h=l[1];return Object(i.useEffect)((function(){function e(){return c.apply(this,arguments)}function c(){return(c=Object(d.a)(s.a.mark((function e(){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get(x.fetchCurrentWeather);case 2:c=e.sent,h(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e();var n=setInterval(e,3e5);return function(){return clearInterval(n)}}),[]),console.log(u),Object(o.jsxs)("div",{className:"app",children:[Object(o.jsxs)("div",{className:"app__top",children:[Object(o.jsx)(j,{}),Object(o.jsx)(O,{weatherCode:(null===u||void 0===u?void 0:u.weather)?null===u||void 0===u||null===(e=u.weather[0])||void 0===e?void 0:e.id:null,weatherText:(null===u||void 0===u?void 0:u.weather)?null===u||void 0===u||null===(c=u.weather[0])||void 0===c?void 0:c.description:"",temp:null===u||void 0===u||null===(n=u.main)||void 0===n?void 0:n.temp}),Object(o.jsx)(v,{dir:null===u||void 0===u||null===(t=u.wind)||void 0===t?void 0:t.deg,speed:null===u||void 0===u||null===(a=u.wind)||void 0===a?void 0:a.speed})]}),Object(o.jsx)("div",{className:"app__bottom",children:Object(o.jsx)(I,{})})]})};r.a.render(Object(o.jsx)(t.a.StrictMode,{children:Object(o.jsx)(C,{})}),document.getElementById("root"))},41:function(e,c,n){},80:function(e,c,n){},82:function(e,c,n){},83:function(e,c,n){},84:function(e,c,n){},85:function(e,c,n){},86:function(e,c,n){},87:function(e,c,n){}},[[214,1,2]]]);
//# sourceMappingURL=main.1ee9ad4b.chunk.js.map