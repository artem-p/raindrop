{"version":3,"sources":["App.js","dashboard/Location.js","dashboard/Header.js","requests.js","api.js","weather-icons/OwmWeatherIcon.js","common.js","dashboard/Wind.js","dashboard/CurrentWeather.js","dashboard/forecast/OwmForecastElement.js","dashboard/forecast/Owm3hForecast.js","dashboard/daily-forecast/OwmDailyForecastElement.js","dashboard/daily-forecast/OwmDailyForecast.js","dashboard/Dashboard.js","map/Map.js","index.js"],"names":["App","Location","handleLocation","status","lat","lon","name","className","onClick","Header","handleSelectPlace","useState","DateTime","local","date","setDate","useEffect","timer","setInterval","clearInterval","inputPlaceholder","accessToken","onSelect","showLoader","toLocaleString","TIME_SIMPLE","DATE_MED_WITH_WEEKDAY","OWM_API_KEY","requests","fetchCurrentWeather","fetchForecast","fetchDailyForecast","fetchRadarData","owmApi","axios","create","baseURL","OwmWeatherIcon","weatherCode","isNight","iconClass","icon","includes","kelvinToCelcius","tempKelvin","toFixed","Wind","wind","speed","dir","deg","CurrentWeather","place","currentWeather","setCurrentWeather","a","api","get","request","data","requestInterval","stationName","weatherText","weather","description","id","temp","main","feels_like","Container","fluid","Row","Col","OwmForecastElement","time","fromSeconds","Owm3hForecast","forecast","setForecast","list","length","slice","map","forecastElement","dt","getForecasts","OwmDailyForecastElement","minTemp","maxTemp","weekday","OwmDailyForecast","daily","min","max","Dashboard","setLat","setLon","locationStatus","setLocationStatus","setPlace","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","searchResult","center","text","mapboxgl","Map","mapContainer","useRef","long","zoom","timestamps","setTimestamps","sliderValue","setSliderValue","fetch","then","response","json","radar","past","current","container","style","lastRadarPath","path","on","addLayer","setPaintProperty","getSliderMax","ref","Slider","value","defaultValue","onChange","event","newValue","marks","step","ReactDOM","render","StrictMode","element","document","getElementById"],"mappings":"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","file":"static/js/main.3b183b4d.chunk.js","sourcesContent":["import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport { Outlet, Link } from 'react-router-dom';\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <header>\n        <nav className='nav'>\n          <Link to='/raindrop/dashboard'>Dashboard</Link>\n          <Link to='/raindrop/map'>Map</Link>\n        </nav>\n      </header>\n      <main>\n        <Outlet />\n      </main>\n    </div>\n  )\n\n  // return (\n  //   <div className=\"app\">\n  //     <div className=\"content\">\n  //       <div className=\"content__top\">\n\n  //         <Header handleLocation={handleOnClickLocation} status={locationStatus} lat={lat} lon={lon} \n  //           name={currentWeather?.name}/>\n          \n  //         <div className=\"center\">\n  //           <div>\n  //             <div className=\"weather__state\">\n  //               {/* <WeatherState \n  //                 weatherCode={currentWeather?.weather ? currentWeather?.weather[0]?.id : null}\n  //                 weatherText={currentWeather?.weather ? currentWeather?.weather[0]?.description : \"\"} \n  //                 temp={currentWeather?.main?.temp}\n  //                 feelsLike={currentWeather?.main?.feels_like}\n  //                 isDay={currentWeather?.sys?.sunrise <= currentWeather?.dt && currentWeather?.dt < currentWeather?.sys?.sunset}\n  //               /> */}\n  //             </div>\n\n  //               {/* <Wind dir={currentWeather?.wind?.deg} speed={currentWeather?.wind?.speed}/> */}\n  //           </div>\n\n  //           <div>\n  //             <DailyForecast />\n  //           </div>\n  //         </div>\n\n  //     </div>\n  //       <div className=\"content__bottom\">\n  //         <Forecast lat={lat} lon={lon}/>\n  //       </div>\n  //   </div>\n  //   </div>\n  // );\n}\n\nexport default App;\n","import React, {useState} from 'react';\n\nimport './Location.css';\nimport { BiCurrentLocation } from 'react-icons/bi';\n\nfunction Location({handleLocation, status, lat, lon, name}) {\n    \n\n    \n    return (\n        <div className='location'>\n            <div className=\"location-button\">\n                <BiCurrentLocation onClick={handleLocation}/>\n            </div>\n            \n            <div className=\"location-info\">\n                {status && <p>{status}</p>}\n                {lat && <span>{lat}</span>}\n                {lon && <span>, {lon}</span>}\n                {name && <p>{name}</p>}\n            </div>\n        </div>\n    )\n}\n\nexport default Location\n","import React, {useState, useEffect} from 'react';\nimport { DateTime } from 'luxon';\nimport './Header.css';\nimport Location from './Location';\n\n// todo MatGeocoder has bunch of dependencies like mui\nimport MatGeocoder from 'react-mui-mapbox-geocoder'\n\n\n\nfunction Header({handleLocation, handleSelectPlace, status, lat, lon, name}) {\n    const MAPBOX_TOKEN = \"pk.eyJ1IjoiYXJ0ZW1wdWdhY2hldiIsImEiOiJja3l1NWJwZ3owM2IxMnd0NDUydDZqazUyIn0.b1G2XUsJEhO49s7vTH2q1Q\";\n    const [date, setDate] = useState(new DateTime.local());\n \n    useEffect(() => {\n        const timer = setInterval(()=>setDate(DateTime.local()), 1000);\n\n        return function cleanup() {\n            clearInterval(timer);\n        }\n        \n    }, []);\n\n\n    return (\n        <div className=\"header-container\">\n            <div className=\"location-container\">\n                <Location handleLocation={handleLocation} status={status} lat={lat} lon={lon} name={name}/>\n            </div>\n\n            <div className=\"search-box\">\n                <MatGeocoder\n                    inputPlaceholder=\"Search for location\"\n                    accessToken={MAPBOX_TOKEN}\n                    onSelect={handleSelectPlace}\n                    showLoader={true}\n                    />\n            </div>\n            <div className=\"datetime\">\n                <h1 className=\"datetime__time\">{date.toLocaleString(DateTime.TIME_SIMPLE)}</h1>\n                <h1 className=\"datetime__date\">{date.toLocaleString(DateTime.DATE_MED_WITH_WEEKDAY)}</h1>\n            </div>\n        </div>\n    )\n}\n\nexport default Header\n","export const OWM_API_KEY = \"3a7c9da63552f741f703b56817b3e594\";\n\nconst requests = {\n    fetchCurrentWeather: (lat, lon) => {return `weather?lat=${lat}&lon=${lon}&appid=${OWM_API_KEY}`},\n    fetchForecast: (lat, lon) => {return `forecast?lat=${lat}&lon=${lon}&appid=${OWM_API_KEY}`},\n    fetchDailyForecast: (lat, lon) => {return `onecall?lat=${lat}&lon=${lon}&exclude=current,hourly,alerts&appid=${OWM_API_KEY}`},\n\n    fetchRadarData: \"https://api.rainviewer.com/public/weather-maps.json\",\n}\n\n\nexport default requests;","import axios from \"axios\";\n\nconst owmApi = axios.create({\n    baseURL: \"https://api.openweathermap.org/data/2.5\",\n});\n\nexport default owmApi;","import React from 'react';\nimport './css/weather-icons.min.css';\n\n\nfunction OwmWeatherIcon({weatherCode, isNight}) {\n    const iconPrefix = \"wi wi-owm-\";\n\n    let iconClass = '';\n\n    if (weatherCode) {\n        let icon = '';\n\n        icon = weatherCode;\n\n        if (isNight) {\n            // для некоторых значков используем ночные альтернативы.\n            // для большинства достаточно нейтральных, так как в дневных используется солнце, а по факту его может не быть\n            if ([800, 801, 802].includes(weatherCode)) { //clear, few clouds, scattered clouds\n                icon = '-night-' + weatherCode;\n            }\n         }\n\n        iconClass = iconPrefix + icon;\n    }\n\n\n    return (\n        <div>\n            <i className={iconClass}></i>\n        </div>\n    )\n}\n\nexport default OwmWeatherIcon;\n","function kelvinToCelcius(tempKelvin) {\n    return tempKelvin ? (tempKelvin - 273.15).toFixed(0) : \"\";\n}\n\nexport {kelvinToCelcius};","import React from 'react';\nimport './Wind.css';\nimport '../weather-icons/css/weather-icons.min.css';\nimport '../weather-icons/css/weather-icons-wind.min.css';\n\n\nfunction Wind({wind}) {\n    const speed = wind?.speed ? wind?.speed?.toFixed(0) : 0;\n    const dir = wind?.deg ? wind?.deg : 0;\n\n    const iconClass = `wi wi-wind from-${dir}-deg`\n\n    return (\n        <div className='wind'>\n            <i className={iconClass}></i>{' '}<span>{speed} м/c</span>\n        </div>\n    )\n}\n\nexport default Wind;\n","import React, {useState, useEffect} from 'react';\nimport requests from '../requests';\nimport api from '../api';\nimport {Container, Row, Col} from 'react-bootstrap';\nimport './CurrentWeather.css';\nimport OwmWeatherIcon from '../weather-icons/OwmWeatherIcon';\nimport { kelvinToCelcius } from '../common';\nimport Wind from './Wind';\n\n\nfunction CurrentWeather({lat, lon, place}) {\n    const [currentWeather, setCurrentWeather] = useState({});\n\n    async function fetchCurrentWeather(lat, lon) {\n        const request = await api.get(requests.fetchCurrentWeather(lat, lon));\n        setCurrentWeather(request.data);\n    }\n\n\n    useEffect(() => {\n        fetchCurrentWeather(lat, lon);\n\n        const requestInterval = setInterval(fetchCurrentWeather, 60000 * 5, lat, lon);\n    \n        return () => clearInterval(requestInterval);\n    }, [lat, lon]);\n    \n\n    const stationName = currentWeather?.name ? currentWeather?.name : \"Загрузка...\";\n    const weatherText = currentWeather?.weather ? currentWeather?.weather[0]?.description : \"\";\n    const weatherCode = currentWeather?.weather ? currentWeather?.weather[0]?.id : \"\";\n    const temp = kelvinToCelcius(currentWeather?.main?.temp);\n    const feelsLike = kelvinToCelcius(currentWeather?.main?.feels_like);\n    const wind = currentWeather?.wind;\n\n    return (\n        <div className='weather-card owm-current-weather'>\n            <Container fluid>\n                <Row>\n                    <Col>\n                        <Row>\n                            <Col>\n                                <div className=\"station-name\">\n                                    {place}{' '}{stationName}\n                                </div>\n                            </Col>\n                        </Row>\n\n                        <Row>\n                            <Col>\n                                <div className=\"weather-icon\">\n                                    <OwmWeatherIcon weatherCode={weatherCode}/>\n                                </div>\n                            </Col>\n\n                            <Col>\n                                <div className=\"temperature__measured\">\n                                    {temp}{' '} <sup>°</sup>\n                                </div>\n                            </Col>\n                        </Row>\n\n                        <Row>\n                            <Col>\n                                <div className=\"weather-text\">\n                                    <h6>{weatherText}</h6>\n                                </div>\n                            </Col>\n\n                            <Col>\n                                <Wind wind={wind}/>\n                            </Col>\n                        </Row>\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    )\n}\n\nexport default CurrentWeather;\n","import React from 'react';\nimport { DateTime } from 'luxon';\nimport './OwmForecastElement.css';\nimport OwmWeatherIcon from '../../weather-icons/OwmWeatherIcon';\n\n\nfunction OwmForecastElement({ time, temp, weatherCode }) {\n    return (\n        <div className=\"forecast-element\">\n            <div className=\"forecast-element_icon\">\n                <OwmWeatherIcon weatherCode={weatherCode}/>\n            </div>\n\n            <div className=\"forecast-element_time\">\n                {DateTime.fromSeconds(time).toLocaleString(DateTime.TIME_SIMPLE)}\n            </div>\n\n            <div className=\"forecast-element_temperature\">{temp ? (temp - 273.15).toFixed(0) : 0} <sup>°</sup></div>\n        </div>\n    )\n}\n\nexport default OwmForecastElement;","import React, {useState, useEffect} from 'react';\nimport api from '../../api';\nimport requests from '../../requests';\nimport './Owm3hForecast.css';\nimport OwmForecastElement from './OwmForecastElement';\n\n\nfunction Owm3hForecast({lat, lon}) {\n    const [forecast, setForecast] = useState({});\n\n    async function fetchForecast(lat, lon) {\n        const request = await api.get(requests.fetchForecast(lat, lon));\n        setForecast(request.data);\n    }\n\n\n    useEffect(() => {\n        fetchForecast(lat, lon);\n\n        const requestInterval = setInterval(fetchForecast, 60000 * 5, lat, lon);\n    \n        return () => clearInterval(requestInterval);\n    }, [lat, lon]);\n    \n    \n    const getForecasts = () => {\n        if (forecast && forecast.list && forecast.list.length > 0) {\n          const forecasts = forecast.list.slice(0, 8);\n          \n          return forecasts.map((forecastElement) => {\n            return <OwmForecastElement \n                key={forecastElement.dt}\n                time={forecastElement.dt} \n                temp={forecastElement.main.temp} \n                weatherCode={forecastElement?.weather[0]?.id}\n              />\n          })\n        }\n    }\n\n    \n    return (\n        <div className='weather-card owm-3h-forecast'>\n            <h5 className='header'>Прогноз на 24 ч</h5>\n            \n            <div className=\"forecast-elements\">\n                {getForecasts()}\n            </div>\n        </div>\n    )\n}\n\n\nexport default Owm3hForecast;\n","import React from 'react';\nimport { DateTime } from 'luxon';\nimport './OwmDailyForecastElement.css';\nimport OwmWeatherIcon from '../../weather-icons/OwmWeatherIcon';\n\n\nfunction OwmDailyForecastElement({ time, minTemp, maxTemp, weatherCode }) {\n    return (\n        <div className=\"forecast-element\">\n            <div className=\"forecast-element_icon\">\n                <OwmWeatherIcon weatherCode={weatherCode}/>\n            </div>\n\n            <div className=\"forecast-element_time\">\n                {DateTime.fromSeconds(time).toLocaleString({weekday: 'short'})}\n            </div>\n\n            <div className=\"forecast-element_temperature\">{maxTemp}<sup>°</sup> / {minTemp}<sup>°</sup></div>\n        </div>\n    )\n}\n\nexport default OwmDailyForecastElement;","import React, {useState, useEffect} from 'react';\nimport api from '../../api';\nimport requests from '../../requests';\nimport './OwmDailyForecast.css';\nimport OwmDailyForecastElement from './OwmDailyForecastElement';\nimport { kelvinToCelcius } from '../../common';\n\n\nfunction OwmDailyForecast({lat, lon}) {\n    const [forecast, setForecast] = useState({});\n\n    async function fetchForecast(lat, lon) {\n        const request = await api.get(requests.fetchDailyForecast(lat, lon));\n        setForecast(request.data);\n    }\n\n\n    useEffect(() => {\n        fetchForecast(lat, lon);\n\n        const requestInterval = setInterval(fetchForecast, 60000 * 5, lat, lon);\n    \n        return () => clearInterval(requestInterval);\n    }, [lat, lon]);\n    \n    \n    const getForecasts = () => {\n        if (forecast && forecast.daily && forecast.daily.length > 0) {\n          const forecasts = forecast.daily.slice(0, 5);\n          \n          return forecasts.map((forecastElement) => {\n            return <OwmDailyForecastElement \n                key={forecastElement.dt}\n                time={forecastElement.dt} \n                minTemp={kelvinToCelcius(forecastElement.temp.min)}\n                maxTemp={kelvinToCelcius(forecastElement.temp.max)} \n                weatherCode={forecastElement?.weather[0]?.id}\n              />\n          })\n        }\n    }\n\n    \n    return (\n        <div className='weather-card owm-daily-forecast'>\n            <h5 className='header'>Прогноз на 5 дней</h5>\n\n            <div className=\"forecast-elements\">\n                {getForecasts()}\n            </div>\n        </div>\n    )\n}\n\nexport default OwmDailyForecast;\n","import React, {useState} from 'react';\n\nimport Header from './Header';\nimport CurrentWeather from './CurrentWeather';\nimport Owm3hForecast from './forecast/Owm3hForecast';\nimport OwmDailyForecast from './daily-forecast/OwmDailyForecast';\n\n\nfunction Dashboard() {\n  const [lat, setLat] = useState(59.9311);\n  const [lon, setLon] = useState(30.3609);\n  const [locationStatus, setLocationStatus] = useState(null);\n  const [place, setPlace] = useState('');\n\n  \n  const getLocation = () => {\n    if (!navigator.geolocation) {\n      setLocationStatus('Geolocation is not supported by your browser');\n    } else {\n      setLocationStatus('Locating...');\n        \n        navigator.geolocation.getCurrentPosition((position) => {\n          setLocationStatus(null);\n          const lat = position.coords.latitude;\n          const lon = position.coords.longitude;\n          setLat(lat);\n          setLon(lon);\n        }, () => {\n          setLocationStatus('Unable to retrieve your location');\n        });\n    }\n  }\n\n  \n  const handleOnClickLocation = () => {\n    setPlace('');\n    getLocation()\n  }\n\n  \n  const handleSelectPlace = (searchResult) => {\n    setLat(searchResult?.center[1]);\n    setLon(searchResult?.center[0]);\n    setPlace(searchResult?.text);\n  }\n\n  return (\n    <div>\n        <Header handleLocation={handleOnClickLocation} handleSelectPlace={handleSelectPlace} status={locationStatus} lat={lat} lon={lon} />\n\n        <CurrentWeather lat={lat} lon={lon} place={place}/>\n\n        <Owm3hForecast lat={lat} lon={lon} />\n\n        <OwmDailyForecast lat={lat} lon={lon} />\n    </div>\n  )\n}\n\nexport default Dashboard;","import React, { useRef, useEffect, useState } from 'react';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\nimport Slider from '@mui/material/Slider';\nimport './Map.css';\nimport requests from '../requests';\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiYXJ0ZW1wdWdhY2hldiIsImEiOiJja3l1NWJwZ3owM2IxMnd0NDUydDZqazUyIn0.b1G2XUsJEhO49s7vTH2q1Q';\n\nfunction Map() {\n  const mapContainer = useRef(null);\n  const map = useRef(null);\n  const [long, setLong] = useState(30);\n  const [lat, setLat] = useState(59.9);\n  const [zoom, setZoom] = useState(6);\n  const [timestamps, setTimestamps] = useState([]);\n  const [sliderValue, setSliderValue] = useState(0);\n\n  \n  useEffect(() => {\n    fetch(requests.fetchRadarData)\n      .then(response => response.json())\n      .then(data => {\n        if (data?.radar?.past) {\n          const timestamps = data.radar.past;\n          \n          setTimestamps(timestamps);\n          \n          if (timestamps.length > 0) {\n            setSliderValue(timestamps[timestamps.length - 1].time)\n          }\n        }    \n      });\n  }, []);\n\n\n  useEffect(() => {\n    if (map.current) return; // initialize map only once\n\n    map.current = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/satellite-streets-v11',\n      center: [long, lat],\n      zoom: zoom\n    });\n  });\n\n  \n  useEffect(() => {\n    if (!timestamps || timestamps.length === 0) return;\n\n    let lastRadarPath = timestamps[timestamps.length - 1].path;\n\n    map.current.on('load', function(){\n      map.current.addLayer({\n        \"id\": \"precipitation\",\n        \"type\": \"raster\",\n        \"source\": {\n          \"type\": \"raster\",\n          \"tiles\": [`https://tilecache.rainviewer.com/${lastRadarPath}/512/{z}/{x}/{y}/1/1_0.png`],\n          \"tileSize\": 256\n        },\n        \"minzoom\": 0,\n        \"maxzoom\": 22\n      });\n\n      map.current.setPaintProperty(\n        'precipitation',\n        'raster-opacity',\n        1\n      )\n    });\n\n  }, [timestamps]);\n\n  \n  const handleSliderChange = (event, newValue) => {\n    setSliderValue(newValue);\n  }\n\n  const getSliderMin = () => {\n    return timestamps ? timestamps?.length > 0 ? timestamps[0].time : 0 : 0;\n  }\n\n  const getSliderMax = () => {\n    return timestamps ? timestamps?.length > 0 ? timestamps[timestamps.length - 1].time : 0 : 0;\n  }\n  \n  return <div>\n          <div id='map'>\n            <div ref={mapContainer} className=\"map-container\" />\n          </div>\n\n          <div className='bottom-controls'>\n            <Slider value={sliderValue} defaultValue={getSliderMax()} onChange={handleSliderChange} marks={true} min={getSliderMin()} max={getSliderMax()} step={600}/>\n          </div>\n        </div>;\n}\n\nexport default Map;\n\n  \n  ","import 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/stable';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport Dashboard from './dashboard/Dashboard';\nimport Map from './map/Map';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/raindrop\" element={<Dashboard />} />\n        <Route path=\"/raindrop/map\" element={<Map />} />\n      </Routes>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}