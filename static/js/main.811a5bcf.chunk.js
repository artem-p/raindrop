(this.webpackJsonpraindrop=this.webpackJsonpraindrop||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),i=n(41),s=n.n(i),l=n(47),o=n(5);n(99),n(100),n(101);var d=function(){return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)("header",{children:Object(c.jsxs)("nav",{children:[Object(c.jsx)(l.b,{to:"/dashboard",children:"Dashboard"}),Object(c.jsx)(l.b,{to:"/map",children:"Map"})]})}),Object(c.jsx)("main",{children:Object(c.jsx)(o.a,{})})]})},j=n(6),u=n(28),h=(n(102),n(103),n(87));var b=function(e){var t=e.handleLocation,n=e.status,a=e.lat,r=e.lon,i=e.name;return Object(c.jsxs)("div",{className:"location",children:[Object(c.jsx)("div",{className:"location-button",children:Object(c.jsx)(h.a,{onClick:t})}),Object(c.jsxs)("div",{className:"location-info",children:[n&&Object(c.jsx)("p",{children:n}),a&&Object(c.jsx)("span",{children:a}),r&&Object(c.jsxs)("span",{children:[", ",r]}),i&&Object(c.jsx)("p",{children:i})]})]})},v=n(85);var m=function(e){var t=e.handleLocation,n=e.handleSelectPlace,r=e.status,i=e.lat,s=e.lon,l=e.name,o=Object(a.useState)(new u.DateTime.local),d=Object(j.a)(o,2),h=d[0],m=d[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return m(u.DateTime.local())}),1e3);return function(){clearInterval(e)}}),[]),Object(c.jsxs)("div",{className:"header-container",children:[Object(c.jsx)("div",{className:"location-container",children:Object(c.jsx)(b,{handleLocation:t,status:r,lat:i,lon:s,name:l})}),Object(c.jsx)("div",{className:"search-box",children:Object(c.jsx)(v.a,{inputPlaceholder:"Search for location",accessToken:"pk.eyJ1IjoiYXJ0ZW1wdWdhY2hldiIsImEiOiJja3l1NWJwZ3owM2IxMnd0NDUydDZqazUyIn0.b1G2XUsJEhO49s7vTH2q1Q",onSelect:n,showLoader:!0})}),Object(c.jsxs)("div",{className:"datetime",children:[Object(c.jsx)("h1",{className:"datetime__time",children:h.toLocaleString(u.DateTime.TIME_SIMPLE)}),Object(c.jsx)("h1",{className:"datetime__date",children:h.toLocaleString(u.DateTime.DATE_MED_WITH_WEEKDAY)})]})]})},O=n(30),x=n.n(O),f=n(37),p="3a7c9da63552f741f703b56817b3e594",w={fetchCurrentWeather:function(e,t){return"weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(p)},fetchForecast:function(e,t){return"forecast?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(p)},fetchDailyForecast:function(e,t){return"onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=current,hourly,alerts&appid=").concat(p)}},N=n(84),g=n.n(N).a.create({baseURL:"https://api.openweathermap.org/data/2.5"}),y=n(172),S=n(173),I=n(174);n(139),n(72);var _=function(e){var t=e.weatherCode,n=e.isNight,a="";if(t){var r="";r=t,n&&[800,801,802].includes(t)&&(r="-night-"+t),a="wi wi-owm-"+r}return Object(c.jsx)("div",{children:Object(c.jsx)("i",{className:a})})};function T(e){return e?(e-273.15).toFixed(0):""}n(140),n(141);var D=function(e){var t,n=e.wind,a=(null===n||void 0===n?void 0:n.speed)?null===n||void 0===n||null===(t=n.speed)||void 0===t?void 0:t.toFixed(0):0,r=(null===n||void 0===n?void 0:n.deg)?null===n||void 0===n?void 0:n.deg:0,i="wi wi-wind from-".concat(r,"-deg");return Object(c.jsxs)("div",{className:"wind",children:[Object(c.jsx)("i",{className:i})," ",Object(c.jsxs)("span",{children:[a," \u043c/c"]})]})};var E=function(e){var t,n,r,i,s=e.lat,l=e.lon,o=e.place,d=Object(a.useState)({}),u=Object(j.a)(d,2),h=u[0],b=u[1];function v(e,t){return m.apply(this,arguments)}function m(){return(m=Object(f.a)(x.a.mark((function e(t,n){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get(w.fetchCurrentWeather(t,n));case 2:c=e.sent,b(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){v(s,l);var e=setInterval(v,3e5,s,l);return function(){return clearInterval(e)}}),[s,l]);var O=(null===h||void 0===h?void 0:h.name)?null===h||void 0===h?void 0:h.name:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",p=(null===h||void 0===h?void 0:h.weather)?null===h||void 0===h||null===(t=h.weather[0])||void 0===t?void 0:t.description:"",N=(null===h||void 0===h?void 0:h.weather)?null===h||void 0===h||null===(n=h.weather[0])||void 0===n?void 0:n.id:"",E=T(null===h||void 0===h||null===(r=h.main)||void 0===r?void 0:r.temp),L=(T(null===h||void 0===h||null===(i=h.main)||void 0===i?void 0:i.feels_like),null===h||void 0===h?void 0:h.wind);return Object(c.jsx)("div",{className:"weather-card owm-current-weather",children:Object(c.jsx)(y.a,{fluid:!0,children:Object(c.jsx)(S.a,{children:Object(c.jsxs)(I.a,{children:[Object(c.jsx)(S.a,{children:Object(c.jsx)(I.a,{children:Object(c.jsxs)("div",{className:"station-name",children:[o," ",O]})})}),Object(c.jsxs)(S.a,{children:[Object(c.jsx)(I.a,{children:Object(c.jsx)("div",{className:"weather-icon",children:Object(c.jsx)(_,{weatherCode:N})})}),Object(c.jsx)(I.a,{children:Object(c.jsxs)("div",{className:"temperature__measured",children:[E," "," ",Object(c.jsx)("sup",{children:"\xb0"})]})})]}),Object(c.jsxs)(S.a,{children:[Object(c.jsx)(I.a,{children:Object(c.jsx)("div",{className:"weather-text",children:Object(c.jsx)("h6",{children:p})})}),Object(c.jsx)(I.a,{children:Object(c.jsx)(D,{wind:L})})]})]})})})})};n(142),n(143);var L=function(e){var t=e.time,n=e.temp,a=e.weatherCode;return Object(c.jsxs)("div",{className:"forecast-element",children:[Object(c.jsx)("div",{className:"forecast-element_icon",children:Object(c.jsx)(_,{weatherCode:a})}),Object(c.jsx)("div",{className:"forecast-element_time",children:u.DateTime.fromSeconds(t).toLocaleString(u.DateTime.TIME_SIMPLE)}),Object(c.jsxs)("div",{className:"forecast-element_temperature",children:[n?(n-273.15).toFixed(0):0," ",Object(c.jsx)("sup",{children:"\xb0"})]})]})};var C=function(e){var t=e.lat,n=e.lon,r=Object(a.useState)({}),i=Object(j.a)(r,2),s=i[0],l=i[1];function o(e,t){return d.apply(this,arguments)}function d(){return(d=Object(f.a)(x.a.mark((function e(t,n){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get(w.fetchForecast(t,n));case 2:c=e.sent,l(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){o(t,n);var e=setInterval(o,3e5,t,n);return function(){return clearInterval(e)}}),[t,n]),Object(c.jsxs)("div",{className:"weather-card owm-3h-forecast",children:[Object(c.jsx)("h5",{className:"header",children:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 24 \u0447"}),Object(c.jsx)("div",{className:"forecast-elements",children:function(){if(s&&s.list&&s.list.length>0)return s.list.slice(0,8).map((function(e){var t;return Object(c.jsx)(L,{time:e.dt,temp:e.main.temp,weatherCode:null===e||void 0===e||null===(t=e.weather[0])||void 0===t?void 0:t.id},e.dt)}))}()})]})};n(144),n(145);var k=function(e){var t=e.time,n=e.minTemp,a=e.maxTemp,r=e.weatherCode;return Object(c.jsxs)("div",{className:"forecast-element",children:[Object(c.jsx)("div",{className:"forecast-element_icon",children:Object(c.jsx)(_,{weatherCode:r})}),Object(c.jsx)("div",{className:"forecast-element_time",children:u.DateTime.fromSeconds(t).toLocaleString({weekday:"short"})}),Object(c.jsxs)("div",{className:"forecast-element_temperature",children:[a,Object(c.jsx)("sup",{children:"\xb0"})," / ",n,Object(c.jsx)("sup",{children:"\xb0"})]})]})};var M=function(e){var t=e.lat,n=e.lon,r=Object(a.useState)({}),i=Object(j.a)(r,2),s=i[0],l=i[1];function o(e,t){return d.apply(this,arguments)}function d(){return(d=Object(f.a)(x.a.mark((function e(t,n){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get(w.fetchDailyForecast(t,n));case 2:c=e.sent,l(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){o(t,n);var e=setInterval(o,3e5,t,n);return function(){return clearInterval(e)}}),[t,n]),Object(c.jsxs)("div",{className:"weather-card owm-daily-forecast",children:[Object(c.jsx)("h5",{className:"header",children:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 5 \u0434\u043d\u0435\u0439"}),Object(c.jsx)("div",{className:"forecast-elements",children:function(){if(s&&s.daily&&s.daily.length>0)return s.daily.slice(0,5).map((function(e){var t;return Object(c.jsx)(k,{time:e.dt,minTemp:T(e.temp.min),maxTemp:T(e.temp.max),weatherCode:null===e||void 0===e||null===(t=e.weather[0])||void 0===t?void 0:t.id},e.dt)}))}()})]})};var F=function(){var e=Object(a.useState)(59.9311),t=Object(j.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(30.3609),s=Object(j.a)(i,2),l=s[0],o=s[1],d=Object(a.useState)(null),u=Object(j.a)(d,2),h=u[0],b=u[1],v=Object(a.useState)(""),O=Object(j.a)(v,2),x=O[0],f=O[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)(m,{handleLocation:function(){f(""),navigator.geolocation?(b("Locating..."),navigator.geolocation.getCurrentPosition((function(e){b(null);var t=e.coords.latitude,n=e.coords.longitude;r(t),o(n)}),(function(){b("Unable to retrieve your location")}))):b("Geolocation is not supported by your browser")},handleSelectPlace:function(e){r(null===e||void 0===e?void 0:e.center[1]),o(null===e||void 0===e?void 0:e.center[0]),f(null===e||void 0===e?void 0:e.text)},status:h,lat:n,lon:l}),Object(c.jsx)(E,{lat:n,lon:l,place:x}),Object(c.jsx)(C,{lat:n,lon:l}),Object(c.jsx)(M,{lat:n,lon:l})]})};var J=function(){return Object(c.jsx)("div",{children:"Map"})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(l.a,{children:Object(c.jsx)(o.d,{children:Object(c.jsxs)(o.b,{path:"/",element:Object(c.jsx)(d,{}),children:[Object(c.jsx)(o.b,{path:"dashboard",element:Object(c.jsx)(F,{})}),Object(c.jsx)(o.b,{path:"map",element:Object(c.jsx)(J,{})})]})})})}),document.getElementById("root"))},72:function(e,t,n){},99:function(e,t,n){}},[[146,1,2]]]);
//# sourceMappingURL=main.811a5bcf.chunk.js.map