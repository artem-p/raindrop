(this.webpackJsonpraindrop=this.webpackJsonpraindrop||[]).push([[0],{100:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),i=n(38),s=n.n(i),l=(n(96),n(9)),o=(n(97),n(98),n(26)),d=(n(99),n(100),n(84));var j=function(e){var t=e.handleLocation,n=e.status,a=e.lat,r=e.lon,i=e.name;return Object(c.jsxs)("div",{className:"location",children:[Object(c.jsx)("div",{className:"location-button",children:Object(c.jsx)(d.a,{onClick:t})}),Object(c.jsxs)("div",{className:"location-info",children:[n&&Object(c.jsx)("p",{children:n}),a&&Object(c.jsx)("span",{children:a}),r&&Object(c.jsxs)("span",{children:[", ",r]}),i&&Object(c.jsx)("p",{children:i})]})]})},u=n(82);var h=function(e){var t=e.handleLocation,n=e.handleSelectPlace,r=e.status,i=e.lat,s=e.lon,d=e.name,h=Object(a.useState)(new o.DateTime.local),v=Object(l.a)(h,2),b=v[0],m=v[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return m(o.DateTime.local())}),1e3);return function(){clearInterval(e)}}),[]),Object(c.jsxs)("div",{className:"header-container",children:[Object(c.jsx)("div",{className:"location-container",children:Object(c.jsx)(j,{handleLocation:t,status:r,lat:i,lon:s,name:d})}),Object(c.jsx)("div",{className:"search-box",children:Object(c.jsx)(u.a,{inputPlaceholder:"Search Address",accessToken:"pk.eyJ1IjoiYXJ0ZW1wdWdhY2hldiIsImEiOiJja3l1NWJwZ3owM2IxMnd0NDUydDZqazUyIn0.b1G2XUsJEhO49s7vTH2q1Q",onSelect:n,showLoader:!0})}),Object(c.jsxs)("div",{className:"datetime",children:[Object(c.jsx)("h1",{className:"datetime__time",children:b.toLocaleString(o.DateTime.TIME_SIMPLE)}),Object(c.jsx)("h1",{className:"datetime__date",children:b.toLocaleString(o.DateTime.DATE_MED_WITH_WEEKDAY)})]})]})},v=n(28),b=n.n(v),m=n(34),f="3a7c9da63552f741f703b56817b3e594",O={fetchCurrentWeather:function(e,t){return"weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(f)},fetchForecast:function(e,t){return"forecast?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(f)},fetchDailyForecast:function(e,t){return"onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=current,hourly,alerts&appid=").concat(f)}},x=n(81),p=n.n(x).a.create({baseURL:"https://api.openweathermap.org/data/2.5"}),w=n(169),N=n(170),g=n(171);n(136),n(69);var y=function(e){var t=e.weatherCode,n=e.isNight,a="";if(t){var r="";r=t,n&&[800,801,802].includes(t)&&(r="-night-"+t),a="wi wi-owm-"+r}return Object(c.jsx)("div",{children:Object(c.jsx)("i",{className:a})})};function S(e){return e?(e-273.15).toFixed(0):""}n(137),n(138);var I=function(e){var t,n=e.wind,a=(null===n||void 0===n?void 0:n.speed)?null===n||void 0===n||null===(t=n.speed)||void 0===t?void 0:t.toFixed(0):0,r=(null===n||void 0===n?void 0:n.deg)?null===n||void 0===n?void 0:n.deg:0,i="wi wi-wind from-".concat(r,"-deg");return Object(c.jsxs)("div",{className:"wind",children:[Object(c.jsx)("i",{className:i})," ",Object(c.jsxs)("span",{children:[a," \u043c/c"]})]})};var _=function(e){var t,n,r,i,s=e.lat,o=e.lon,d=e.place,j=Object(a.useState)({}),u=Object(l.a)(j,2),h=u[0],v=u[1];function f(e,t){return x.apply(this,arguments)}function x(){return(x=Object(m.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get(O.fetchCurrentWeather(t,n));case 2:c=e.sent,v(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){f(s,o);var e=setInterval(f,3e5,s,o);return function(){return clearInterval(e)}}),[s,o]);var _=(null===h||void 0===h?void 0:h.name)?null===h||void 0===h?void 0:h.name:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",T=(null===h||void 0===h?void 0:h.weather)?null===h||void 0===h||null===(t=h.weather[0])||void 0===t?void 0:t.description:"",E=(null===h||void 0===h?void 0:h.weather)?null===h||void 0===h||null===(n=h.weather[0])||void 0===n?void 0:n.id:"",D=S(null===h||void 0===h||null===(r=h.main)||void 0===r?void 0:r.temp),L=(S(null===h||void 0===h||null===(i=h.main)||void 0===i?void 0:i.feels_like),null===h||void 0===h?void 0:h.wind);return Object(c.jsx)("div",{className:"weather-card owm-current-weather",children:Object(c.jsx)(w.a,{fluid:!0,children:Object(c.jsx)(N.a,{children:Object(c.jsxs)(g.a,{children:[Object(c.jsx)(N.a,{children:Object(c.jsx)(g.a,{children:Object(c.jsxs)("div",{className:"station-name",children:[d," ",_]})})}),Object(c.jsxs)(N.a,{children:[Object(c.jsx)(g.a,{children:Object(c.jsx)("div",{className:"weather-icon",children:Object(c.jsx)(y,{weatherCode:E})})}),Object(c.jsx)(g.a,{children:Object(c.jsxs)("div",{className:"temperature__measured",children:[D," "," ",Object(c.jsx)("sup",{children:"\xb0"})]})})]}),Object(c.jsxs)(N.a,{children:[Object(c.jsx)(g.a,{children:Object(c.jsx)("div",{className:"weather-text",children:Object(c.jsx)("h6",{children:T})})}),Object(c.jsx)(g.a,{children:Object(c.jsx)(I,{wind:L})})]})]})})})})};n(139),n(140);var T=function(e){var t=e.time,n=e.temp,a=e.weatherCode;return Object(c.jsxs)("div",{className:"forecast-element",children:[Object(c.jsx)("div",{className:"forecast-element_icon",children:Object(c.jsx)(y,{weatherCode:a})}),Object(c.jsx)("div",{className:"forecast-element_time",children:o.DateTime.fromSeconds(t).toLocaleString(o.DateTime.TIME_SIMPLE)}),Object(c.jsxs)("div",{className:"forecast-element_temperature",children:[n?(n-273.15).toFixed(0):0," ",Object(c.jsx)("sup",{children:"\xb0"})]})]})};var E=function(e){var t=e.lat,n=e.lon,r=Object(a.useState)({}),i=Object(l.a)(r,2),s=i[0],o=i[1];function d(e,t){return j.apply(this,arguments)}function j(){return(j=Object(m.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get(O.fetchForecast(t,n));case 2:c=e.sent,o(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){d(t,n);var e=setInterval(d,3e5,t,n);return function(){return clearInterval(e)}}),[t,n]),Object(c.jsxs)("div",{className:"weather-card owm-3h-forecast",children:[Object(c.jsx)("h5",{className:"header",children:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 24 \u0447"}),Object(c.jsx)("div",{className:"forecast-elements",children:function(){if(s&&s.list&&s.list.length>0)return s.list.slice(0,8).map((function(e){var t;return Object(c.jsx)(T,{time:e.dt,temp:e.main.temp,weatherCode:null===e||void 0===e||null===(t=e.weather[0])||void 0===t?void 0:t.id},e.dt)}))}()})]})};n(141),n(142);var D=function(e){var t=e.time,n=e.minTemp,a=e.maxTemp,r=e.weatherCode;return Object(c.jsxs)("div",{className:"forecast-element",children:[Object(c.jsx)("div",{className:"forecast-element_icon",children:Object(c.jsx)(y,{weatherCode:r})}),Object(c.jsx)("div",{className:"forecast-element_time",children:o.DateTime.fromSeconds(t).toLocaleString({weekday:"short"})}),Object(c.jsxs)("div",{className:"forecast-element_temperature",children:[a,Object(c.jsx)("sup",{children:"\xb0"})," / ",n,Object(c.jsx)("sup",{children:"\xb0"})]})]})};var L=function(e){var t=e.lat,n=e.lon,r=Object(a.useState)({}),i=Object(l.a)(r,2),s=i[0],o=i[1];function d(e,t){return j.apply(this,arguments)}function j(){return(j=Object(m.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get(O.fetchDailyForecast(t,n));case 2:c=e.sent,o(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){d(t,n);var e=setInterval(d,3e5,t,n);return function(){return clearInterval(e)}}),[t,n]),Object(c.jsxs)("div",{className:"weather-card owm-daily-forecast",children:[Object(c.jsx)("h5",{className:"header",children:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 5 \u0434\u043d\u0435\u0439"}),Object(c.jsx)("div",{className:"forecast-elements",children:function(){if(s&&s.daily&&s.daily.length>0)return s.daily.slice(0,5).map((function(e){var t;return Object(c.jsx)(D,{time:e.dt,minTemp:S(e.temp.min),maxTemp:S(e.temp.max),weatherCode:null===e||void 0===e||null===(t=e.weather[0])||void 0===t?void 0:t.id},e.dt)}))}()})]})};var C=function(){var e=Object(a.useState)(59.9311),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(30.3609),s=Object(l.a)(i,2),o=s[0],d=s[1],j=Object(a.useState)(null),u=Object(l.a)(j,2),v=u[0],b=u[1],m=Object(a.useState)(""),f=Object(l.a)(m,2),O=f[0],x=f[1];return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)("header",{children:Object(c.jsx)(h,{handleLocation:function(){x(""),navigator.geolocation?(b("Locating..."),navigator.geolocation.getCurrentPosition((function(e){b(null);var t=e.coords.latitude,n=e.coords.longitude;r(t),d(n)}),(function(){b("Unable to retrieve your location")}))):b("Geolocation is not supported by your browser")},handleSelectPlace:function(e){r(null===e||void 0===e?void 0:e.center[1]),d(null===e||void 0===e?void 0:e.center[0]),x(null===e||void 0===e?void 0:e.text)},status:v,lat:n,lon:o})}),Object(c.jsxs)("main",{children:[Object(c.jsx)(_,{lat:n,lon:o,place:O}),Object(c.jsx)(E,{lat:n,lon:o}),Object(c.jsx)(L,{lat:n,lon:o})]})]})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root"))},69:function(e,t,n){},96:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[143,1,2]]]);
//# sourceMappingURL=main.eb07890f.chunk.js.map